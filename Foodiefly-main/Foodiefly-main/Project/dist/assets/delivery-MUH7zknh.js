import{c as A,u as T,r as i,j as e,C as y,a as E,A as S}from"./index-C8yXrGGI.js";import{U as $,S as B,P as j,C as o,M as f}from"./user-BID6Bzel.js";import{P as w}from"./package-B26puGca.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],I=A("bell",R);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],_=A("navigation",L),z=()=>{const{orders:h,updateOrderStatus:p}=T(),[l]=i.useState({id:"db1",name:"Rajesh Kumar",phone:"+91 9876543210",location:{lat:12.9716,lng:77.5946},isAvailable:!0,currentOrders:[],rating:4.8}),[g,k]=i.useState([]),[n,O]=i.useState([]),[m,u]=i.useState("available"),[c,v]=i.useState([]),[N,C]=i.useState(!1);i.useEffect(()=>{const s=h.filter(a=>a.status==="ready"&&!a.deliveryBoyId),t=h.filter(a=>a.deliveryBoyId===l.id&&["picked-up","ready"].includes(a.status));k(s),O(t);const d=s.filter(a=>{const r=new Date(a.createdAt).getTime(),P=Date.now()-5*60*1e3;return r>P});if(d.length>0){const a=d.map(r=>`New order #${r.id} available for pickup - â‚¹${x(r)} earnings`);v(r=>[...a,...r].slice(0,10)),Notification.permission==="granted"&&new Notification("New Delivery Order Available!",{body:`Order #${d[0].id} - Earn â‚¹${x(d[0])}`,icon:"/vite.svg"})}},[h,l.id]),i.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]);const D=s=>{p(s,"picked-up",l.id),v(d=>[`You accepted order #${s}`,...d].slice(0,10));const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50",t.innerHTML=`
      <div class="flex items-center">
        <div class="mr-3">âœ…</div>
        <div>
          <div class="font-semibold">Order Accepted!</div>
          <div class="text-sm">Navigate to restaurant for pickup</div>
        </div>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>document.body.removeChild(t),4e3)},M=s=>{p(s,"delivered");const t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white px-6 py-4 rounded-lg shadow-lg z-50",t.innerHTML=`
      <div class="flex items-center">
        <div class="mr-3">ðŸŽ‰</div>
        <div>
          <div class="font-semibold">Delivery Completed!</div>
          <div class="text-sm">Payment processed successfully</div>
        </div>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>document.body.removeChild(t),4e3)},b=s=>(Math.random()*5+1).toFixed(1),x=s=>Math.max(30,Math.floor(s.total*.12));return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-4 h-4 text-yellow-400 mr-1"}),e.jsx("span",{children:l.rating})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:l.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${l.isAvailable?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{children:l.isAvailable?"Available":"Busy"})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"flex items-center justify-end mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>C(!N),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors relative",children:[e.jsx(I,{className:"w-6 h-6"}),c.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:c.length})]}),N&&e.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-lg border z-50 max-h-96 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),c.length===0?e.jsx("div",{className:"p-4 text-gray-500 text-center",children:"No new notifications"}):e.jsx("div",{className:"divide-y",children:c.map((s,t)=>e.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-700",children:s}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Just now"})]},t))}),e.jsx("div",{className:"p-3 border-t",children:e.jsx("button",{onClick:()=>v([]),className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear all notifications"})})]})]})}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["â‚¹",n.reduce((s,t)=>s+x(t),0)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Today's Earnings"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Orders"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed Today"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"w-8 h-8 text-orange-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"18 min"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Delivery Time"})]})]})})]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsxs("button",{onClick:()=>u("available"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${m==="available"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Available Orders (",g.length,")"]}),e.jsxs("button",{onClick:()=>u("accepted"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${m==="accepted"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["My Orders (",n.length,")"]})]}),m==="available"&&e.jsx("div",{className:"space-y-4",children:g.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx(w,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:c.length>0?"All Orders Accepted!":"No Orders Available"}),e.jsx("p",{className:"text-gray-600",children:c.length>0?'Great job! Check "My Orders" tab for active deliveries':"You will be notified when new orders are available"})]}):g.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Order #",s.id]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[b()," km away"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ready for pickup"})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["â‚¹",x(s)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Delivery Fee"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pickup Location"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Restaurant Name"}),e.jsx("p",{className:"text-sm text-gray-600",children:"MG Road, Bangalore"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.deliveryAddress}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.customerPhone})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Order Value: â‚¹",s.total," â€¢ Items: ",s.items.length]}),e.jsxs("button",{onClick:()=>D(s.id),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"Accept Order"})]})]})]},s.id))}),m==="accepted"&&e.jsx("div",{className:"space-y-4",children:n.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx(o,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Orders"}),e.jsx("p",{className:"text-gray-600",children:"Accept orders from the available tab to start delivering"})]}):n.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Order #",s.id]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="picked-up"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.status==="picked-up"?"In Transit":"Ready for Pickup"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["â‚¹",x(s)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Earnings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Details"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Order Value: â‚¹",s.total]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Items: ",s.items.length]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.customerPhone})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.deliveryAddress}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(f,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[b()," km away"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:"Navigate"})]}),s.status==="picked-up"&&e.jsxs("button",{onClick:()=>M(s.id),className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"Mark as Delivered"})]})]})]},s.id))})]})},Y=()=>e.jsx(S,{children:e.jsx(z,{})});E(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(Y,{})}));
